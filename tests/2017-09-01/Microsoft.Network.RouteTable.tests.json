{
  "tests":[
    {
      "name":"routetable tests",
      "definition":"https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2017-09-01/Microsoft.Network.json#/resourceDefinitions/routeTables",
      "json":{
        "type":"Microsoft.Network/routeTables",
        "name":"[variables('routeTableName')]",
        "apiVersion":"2017-09-01",
        "location":"[parameters('location')]",
        "properties":{
          "routes":[
            {
              "name":"VirtualApplianceRouteToSubnet3",
              "properties":{
                "addressPrefix":"[variables('subnet3Prefix')]",
                "nextHopType":"VirtualAppliance",
                "nextHopIpAddress":"[variables('NvmPrivateIPAddress')]"
              }
            }
          ]
        }
      }
    },
    {
      "name":"routetable tests - no required: addressPrefix, nextHopType",
      "definition":"https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2017-09-01/Microsoft.Network.json#/resourceDefinitions/routeTables",
      "expectedErrors":[
        {
          "message":"Data does not match any schemas from \"oneOf\"",
          "dataPath":"/properties"
        }
      ],
      "json":{
        "type":"Microsoft.Network/routeTables",
        "name":"[variables('routeTableName')]",
        "apiVersion":"2017-09-01",
        "location":"[parameters('location')]",
        "properties":{
          "routes":[
            {
              "name":"VirtualApplianceRouteToSubnet3",
              "properties":{
                "nextHopIpAddress":"[variables('NvmPrivateIPAddress')]"
              }
            }
          ]
        }
      }
    },
    {
      "name":"routetable tests - no routes",
      "definition":"https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2017-09-01/Microsoft.Network.json#/resourceDefinitions/routeTables",
      "json":{
        "type":"Microsoft.Network/routeTables",
        "name":"[variables('routeTableName')]",
        "apiVersion":"2017-09-01",
        "location":"[parameters('location')]",
        "properties":{

        }
      }
    }
  ]
}