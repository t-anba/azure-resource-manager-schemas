{
  "id": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2019-04-01/deploymentTemplate.json#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Template",
  "description": "An Azure deployment template",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON schema reference"
    },
    "apiProfile": {
      "type": "string",
      "enum": [
        "2017-03-09-profile",
        "2018-03-01-hybrid",
        "2018-06-01-profile"
      ],
      "description": "The apiProfile to use for all resources in the template."
    },
    "resources": {
      "name": "[variables('storageAccountName')]",
      "type": "array",
      "description": "Collection of resources to be deployed",
      "items": {
        "oneOf": [
          {
            "allOf": [
              {
                "oneOf": [
                  { "$ref": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2016-10-01/Microsoft.KeyVault.json" }
                ]
              }
            ]
          }
        ]
      }
    }
  }
}