{
  "tests": [
    {
      "name": "clusters - Minimal",
      "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2017-09-07-privatepreview/Microsoft.Kusto.json#/resourceDefinitions/clusters",
      "json": {
        "name": "cluster1",
        "type": "Microsoft.Kusto/clusters",
        "apiVersion": "2017-09-07-privatepreview",
        "sku": {
         "name": "KS16",
         "tier": "Standard"
        },
        "location": "westus"
      }
    },

    {
      "name": "clusters - Without type property",
      "expectedErrors": [
        {
          "message": "Missing required property: type",
          "dataPath": "/"
        }
      ],
      "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2017-09-07-privatepreview/Microsoft.Kusto.json#/resourceDefinitions/clusters",
      "json": {
        "name": "cluster1",
        "apiVersion": "2017-09-07-privatepreview",
        "location": "westus",
        "sku": {
         "name": "KS16",
         "tier": "Standard"
        }
      }
    },

    {
      "name": "clusters - Without api-version property",
      "expectedErrors": [
        {
          "message": "Missing required property: apiVersion",
          "dataPath": "/"
        }
      ],
      "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2017-09-07-privatepreview/Microsoft.Kusto.json#/resourceDefinitions/clusters",
      "json": {
        "name": "cluster1",
        "type": "Microsoft.Kusto/clusters",
        "location": "westus",
        "sku": {
         "name": "KS16",
         "tier": "Standard"
        }
      }
    },

    {
      "name": "clusters - Without location property",
      "expectedErrors": [
        {
          "message": "Missing required property: location",
          "dataPath": "/"
        }
      ],
      "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2017-09-07-privatepreview/Microsoft.Kusto.json#/resourceDefinitions/clusters",
      "json": {
        "name": "cluster1",
        "type": "Microsoft.Kusto/clusters",
        "apiVersion": "2017-09-07-privatepreview",
        "sku": {
         "name": "KS16",
         "tier": "Standard"
        }
      }
    },

    {
      "name": "clusters - Without sku property",
      "expectedErrors": [
        {
          "message": "Missing required property: sku",
          "dataPath": "/"
        }
      ],
      "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2017-09-07-privatepreview/Microsoft.Kusto.json#/resourceDefinitions/clusters",
      "json": {
        "name": "cluster1",
        "type": "Microsoft.Kusto/clusters",
        "location": "westus",
        "apiVersion": "2017-09-07-privatepreview"
      }
    },
    {
      "name": "clusters - Without name property",
      "expectedErrors": [
        {
          "message": "Missing required property: name",
          "dataPath": "/"
        }
      ],
      "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2017-09-07-privatepreview/Microsoft.Kusto.json#/resourceDefinitions/clusters",
      "json": {
        "type": "Microsoft.Kusto/clusters",
        "sku": {
         "name": "KS16",
         "tier": "Standard"
        },
        "location": "westus",
        "apiVersion": "2017-09-07-privatepreview"
      }
    },

    {
        "name": "clusters with databases - Minimal",
        "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2017-09-07-privatepreview/Microsoft.Kusto.json#/resourceDefinitions/clusters",
        "json": {
          "name": "cluster1",
          "type": "Microsoft.Kusto/clusters",
          "apiVersion": "2017-09-07-privatepreview",
          "sku": {
           "name": "KS16",
           "tier": "Standard"
          },
          "location": "westus",
          "resources": [{
            "name": "database - Minimal",
            "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2017-09-07-privatepreview/Microsoft.Kusto.json#/resourceDefinitions/clusters_databases",
              "type": "Microsoft.Kusto/clusters/databases",
              "apiVersion": "2017-09-07-privatepreview",
              "location": "westus",
              "properties": {
                  "softDeletePeriodInDays": 1
              }
          }]
        }
      }
  ]
}
