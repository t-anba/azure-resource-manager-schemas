{
    "tests": [
        {
            "name": "file server - all features",
            "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2018-05-01/Microsoft.BatchAI.json#/resourceDefinitions/workspaces_fileServers",
            "json": {
                "type": "Microsoft.BatchAI/workspaces/fileServers",
                "name": "nfs",
                "apiVersion": "2018-05-01",
                "properties": {
                    "vmSize": "STANDARD_D1",
                    "sshConfiguration": {
                        "userAccountSettings": {
                            "adminUserName": "adminuser",
                            "adminUserPassword": "secret",
                            "adminUserSshPublicKey": "ssh-rsa AAAAB3NzaC1..."
                        }
                    },
                    "dataDisks": {
                        "cachingType": "readonly",
                        "diskCount": 10,
                        "diskSizeInGB": 512,
                        "storageAccountType": "Standard_LRS"
                    }
                }
            }
        },
        {
            "name": "file server - no sshConfiguration",
            "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2018-05-01/Microsoft.BatchAI.json#/resourceDefinitions/workspaces_fileServers",
            "expectedErrors":[
                {
                    "message":"Data does not match any schemas from \"oneOf\"",
                    "dataPath":"/properties"
                }
            ],
            "json": {
                "type": "Microsoft.BatchAI/workspaces/fileServers",
                "name": "nfs",
                "apiVersion": "2018-05-01",
                "properties": {
                    "vmSize": "STANDARD_D1",
                    "dataDisks": {
                        "cachingType": "readonly",
                        "diskCount": 10,
                        "diskSizeInGB": 512,
                        "storageAccountType": "Standard_LRS"
                    }
                }
            }
        },
        {
            "name": "file server - no admin username",
            "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2018-05-01/Microsoft.BatchAI.json#/resourceDefinitions/workspaces_fileServers",
            "expectedErrors":[
                {
                    "message":"Data does not match any schemas from \"oneOf\"",
                    "dataPath":"/properties"
                }
            ],
            "json": {
                "type": "Microsoft.BatchAI/workspaces/fileServers",
                "name": "nfs",
                "apiVersion": "2018-05-01",
                "properties": {
                    "vmSize": "STANDARD_D1",
                    "sshConfiguration": {
                        "userAccountSettings": {
                            "adminUserPassword": "secret",
                            "adminUserSshPublicKey": "ssh-rsa AAAAB3NzaC1..."
                        }
                    },
                    "dataDisks": {
                        "cachingType": "readonly",
                        "diskCount": 10,
                        "diskSizeInGB": 512,
                        "storageAccountType": "Standard_LRS"
                    }
                }
            }
        },
        {
            "name": "file server - no vm size",
            "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2018-05-01/Microsoft.BatchAI.json#/resourceDefinitions/workspaces_fileServers",
            "expectedErrors":[
                {
                    "message":"Data does not match any schemas from \"oneOf\"",
                    "dataPath":"/properties"
                }
            ],
            "json": {
                "type": "Microsoft.BatchAI/workspaces/fileServers",
                "name": "nfs",
                "apiVersion": "2018-05-01",
                "properties": {
                    "sshConfiguration": {
                        "userAccountSettings": {
                            "adminUserName": "adminuser",
                            "adminUserSshPublicKey": "ssh-rsa AAAAB3NzaC1..."
                        }
                    },
                    "dataDisks": {
                        "cachingType": "readonly",
                        "diskCount": 10,
                        "diskSizeInGB": 512,
                        "storageAccountType": "Standard_LRS"
                    }
                }
            }
        },
        {
            "name": "file server - no data disks",
            "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2018-05-01/Microsoft.BatchAI.json#/resourceDefinitions/workspaces_fileServers",
            "expectedErrors":[
                {
                    "message":"Data does not match any schemas from \"oneOf\"",
                    "dataPath":"/properties"
                }
            ],
            "json": {
                "type": "Microsoft.BatchAI/workspaces/fileServers",
                "name": "nfs",
                "apiVersion": "2018-05-01",
                "properties": {
                    "vmSize": "STANDARD_D1",
                    "sshConfiguration": {
                        "userAccountSettings": {
                            "adminUserName": "adminuser",
                            "adminUserSshPublicKey": "ssh-rsa AAAAB3NzaC1..."
                        }
                    }
                }
            }
        },
        {
            "name": "file server - no disk count",
            "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2018-05-01/Microsoft.BatchAI.json#/resourceDefinitions/workspaces_fileServers",
            "expectedErrors":[
                {
                    "message":"Data does not match any schemas from \"oneOf\"",
                    "dataPath":"/properties"
                }
            ],
            "json": {
                "type": "Microsoft.BatchAI/workspaces/fileServers",
                "name": "nfs",
                "apiVersion": "2018-05-01",
                "properties": {
                    "vmSize": "STANDARD_D1",
                    "sshConfiguration": {
                        "userAccountSettings": {
                            "adminUserName": "adminuser",
                            "adminUserSshPublicKey": "ssh-rsa AAAAB3NzaC1..."
                        }
                    },
                    "dataDisks": {
                        "cachingType": "readonly",
                        "diskSizeInGB": 512,
                        "storageAccountType": "Standard_LRS"
                    }
                }
            }
        },
        {
            "name": "file server - no disk size",
            "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2018-05-01/Microsoft.BatchAI.json#/resourceDefinitions/workspaces_fileServers",
            "expectedErrors":[
                {
                    "message":"Data does not match any schemas from \"oneOf\"",
                    "dataPath":"/properties"
                }
            ],
            "json": {
                "type": "Microsoft.BatchAI/workspaces/fileServers",
                "name": "nfs",
                "apiVersion": "2018-05-01",
                "properties": {
                    "vmSize": "STANDARD_D1",
                    "sshConfiguration": {
                        "userAccountSettings": {
                            "adminUserName": "adminuser",
                            "adminUserSshPublicKey": "ssh-rsa AAAAB3NzaC1..."
                        }
                    },
                    "dataDisks": {
                        "cachingType": "readonly",
                        "diskCount": 10,
                        "storageAccountType": "Standard_LRS"
                    }
                }
            }
        },
        {
            "name": "file server - wrong caching type",
            "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2018-05-01/Microsoft.BatchAI.json#/resourceDefinitions/workspaces_fileServers",
            "expectedErrors":[
                {
                    "message":"Data does not match any schemas from \"oneOf\"",
                    "dataPath":"/properties"
                }
            ],
            "json": {
                "type": "Microsoft.BatchAI/workspaces/fileServers",
                "name": "nfs",
                "apiVersion": "2018-05-01",
                "properties": {
                    "vmSize": "STANDARD_D1",
                    "sshConfiguration": {
                        "userAccountSettings": {
                            "adminUserName": "adminuser",
                            "adminUserSshPublicKey": "ssh-rsa AAAAB3NzaC1..."
                        }
                    },
                    "dataDisks": {
                        "cachingType": "strong",
                        "diskCount": 10,
                        "diskSizeInGB": 512,
                        "storageAccountType": "Standard_LRS"
                    }
                }
            }
        },
        {
            "name": "file server - wrong sku",
            "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2018-05-01/Microsoft.BatchAI.json#/resourceDefinitions/workspaces_fileServers",
            "expectedErrors":[
                {
                    "message":"Data does not match any schemas from \"oneOf\"",
                    "dataPath":"/properties"
                }
            ],
            "json": {
                "type": "Microsoft.BatchAI/workspaces/fileServers",
                "name": "nfs",
                "apiVersion": "2018-05-01",
                "properties": {
                    "vmSize": "STANDARD_D1",
                    "sshConfiguration": {
                        "userAccountSettings": {
                            "adminUserName": "adminuser",
                            "adminUserSshPublicKey": "ssh-rsa AAAAB3NzaC1..."
                        }
                    },
                    "dataDisks": {
                        "cachingType": "none",
                        "diskCount": 10,
                        "diskSizeInGB": 512,
                        "storageAccountType": "Slow"
                    }
                }
            }
        },
        {
            "name": "file server - wrong sku",
            "definition": "https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2018-05-01/Microsoft.BatchAI.json#/resourceDefinitions/workspaces_fileServers",
            "expectedErrors":[
                {
                    "message":"Data does not match any schemas from \"oneOf\"",
                    "dataPath":"/properties"
                }
            ],
            "json": {
                "type": "Microsoft.BatchAI/workspaces/fileServers",
                "name": "nfs",
                "apiVersion": "2018-05-01",
                "properties": {
                    "vmSize": "STANDARD_D1",
                    "sshConfiguration": {
                        "userAccountSettings": {
                            "adminUserName": "adminuser",
                            "adminUserSshPublicKey": "ssh-rsa AAAAB3NzaC1..."
                        }
                    },
                    "dataDisks": {
                        "cachingType": "none",
                        "diskCount": 10,
                        "diskSizeInGB": "512Gb",
                        "storageAccountType": "Standard_LRS"
                    }
                }
            }
        }
    ]
}
