{
  "tests":[
    {
      "name":"nat gateway - referenced resources",
      "definition":"https://raw.githubusercontent.com/t-anba/azure-resource-manager-schemas/t-anbaAzSDeploymentTemplate/schemas/2019-04-01/Microsoft.Network.json#/resourceDefinitions/natGateways",
      "json":{
        "apiVersion":"2019-04-01",
        "type":"Microsoft.Network/natGateways",
        "name":"[variables('natGatewayName')]",
        "location":"[resourceGroup().location]",
        "properties":{
          "publicIpAddresses":[
            {
              "id":"/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/PublicIpAddress1"
            }
          ],
          "publicIpPrefixes":[
            {
              "id":"/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPPrefixes/PublicIpPrefix1"
            }
          ],
          "subnets":[
            {
              "id":"/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/test-vnet/subnets/subnet1"
            }
          ]
        }
      }
    }
  ]
}
